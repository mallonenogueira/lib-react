/*

form.scss

Componentes de formulário.

:: Objetivo ::

    - Padronizar a utilização dos componentes de formulário.

:: Regras  ::

1. Não edite os valores pré-definidos.

*/

/* -------------------------------------------------- */

/* :: Inputs :: */

.input {
  width: 100%;

  &__container {
    display: flex;
    margin-bottom: 0;
  }

  &__label {
    display: flex;
    margin: 0;
    position: relative;
    width: 100%;
  }

  [size] {
    width: auto;
  }

  &__label__text {
    @include textTruncation();
    // background-color: var(--input-background);
    border-radius: $border-radius-2;
    color: var(--input-label-color);
    display: block;
    font-size: $font-size-extra-small;
    font-weight: 600;
    line-height: 1.3;
    max-width: 100%;
    margin: 0 0 4px 3px;
    padding: 0 3px;
    z-index: $z-index-2;
  }

  &__info {
    color: var(--input-info-color);
    font-size: 0.625rem;
    padding: 0.375rem 0.25rem;
  }

  &__element {
    background: var(--input-background);
    border: var(--input-element-border);
    // border: none;
    // box-shadow: $box-shadow-1;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-radius: $border-radius-2;
    color: var(--input-color);
    font-family: $font-family;
    font-size: $font-size-small;
    // font-weight: 400;
    outline: none;
    padding: 6px 6px 4px;
    position: relative;
    transition: all 0.12s ease-out;
    width: 100%;
    z-index: $z-index-1;

    &:focus {
      border-color: var(--input-focus-border-color);
      // box-shadow: 0 2px 3px transparentize($accentColor, .2);

      // + .input__label__text {
      //   color: var(--input-label-focus-color);
      // }
    }

    &:disabled {
      // border-color: var(--input-disabled-border-color);
      color: var(--input-disabled-color);

      + .input__label__text {
        color: var(--input-label-disabled-color);
      }
    }

    &--actionable {
      border-radius: $border-radius-2 0 0 $border-radius-2;
      border-right: none;
      width: 100%;

      & + .input__feedback {
        right: 15px;
      }
    }

    &--feedback {
      padding-right: 34px;
    }

    &--transparent {
      background: none;
      border: none;
    }
  }

  &__feedback {
    color: var(--input-color);
    font-size: 0.5625rem;
    position: absolute;
    right: 12px;
    top: 50%;
    line-height: 100%;
    transform: translateY(-50%);
    z-index: $z-index-1;
  }

  &__btn {
    background: var(--input-background);
    // border: 1px solid var(--input-border-color);
    border: none;
    // box-shadow: $box-shadow-1;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);

    border-radius: 0 $border-radius-2 $border-radius-2 0;
    color: var(--input-icon-color);
    line-height: 1;
    outline: none;
    padding: 0 12px;
    transition: color 0.12s ease-out;

    &:not(:disabled):hover,
    &:not(:disabled):focus {
      color: var(--accent-color);
      cursor: pointer;
      outline: none;
    }

    &:disabled {
      border-color: var(--input-disabled-border-color);
      color: var(--input-disabled-color);

      .input__btn__icon {
        color: var(--input-icon-disabled-color);
      }
    }

    &--transparent {
      background: none;
      border: none;
    }

    &__icon {
      display: inline-block;
      font-size: 0.5625rem;

      &.fa-autocomplete {
        font-size: 0.75rem;
      }
    }
  }

  &__caption {
    color: $gray-500;
    display: block;
    font-size: 0.8125rem;
    margin-top: 0.125rem;
    width: 100%;
  }

  &--error {
    .input {
      &__element {
        border: 1px solid var(--input-error-border-color);

        &--actionable {
          border-right: none;
        }

        &:focus {
          + .input__label__text {
            color: var(--input-label-error-color);
          }
        }
      }

      &__label__text {
        color: var(--input-label-error-color);
        transition: all 0.12s ease-out;
      }
    }
  }

  &--text-right {
    .input__label__text {
      right: 10px;
      left: auto;
    }
  }
}

.textarea {
  display: flex;
  flex-direction: column;

  &__actions {
    background: $gray-100;
    border: 1px solid var(--input-border-color);
    border-top: none;
    border-bottom-left-radius: $border-radius-2;
    border-bottom-right-radius: $border-radius-2;
    // box-shadow: 0 2px 5px rgba(0, 0, 0, .1);
    padding: 8px;
  }

  &--actionable {
    .input__element {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }
}
